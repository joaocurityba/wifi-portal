# Portal Cativo Flask - Configurações de PRODUÇÃO
# ⚠️ ATENÇÃO: Configure estas variáveis antes de fazer deploy!
# ⚠️ NUNCA comitar este arquivo no Git!

# ==============================================
# CREDENCIAIS DE SEGURANÇA (OBRIGATÓRIO TROCAR)
# ==============================================

# Chave secreta para sessões e criptografia Fernet
# GERAR NOVA: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=TROCAR_POR_CHAVE_FORTE_DE_86_CARACTERES

# ==============================================
# BANCO DE DADOS POSTGRESQL
# ==============================================

# Credenciais do PostgreSQL
# GERAR SENHA: python -c "import secrets; print(secrets.token_urlsafe(32))"
POSTGRES_DB=wifi_portal
POSTGRES_USER=portal_user
POSTGRES_PASSWORD=TROCAR_POR_SENHA_FORTE_DO_POSTGRES

# URL de conexão (atualizar com a senha acima)
DATABASE_URL=postgresql://portal_user:TROCAR_POR_SENHA_FORTE_DO_POSTGRES@postgres:5432/wifi_portal

# ==============================================
# REDIS (RATE LIMITING E CACHE)
# ==============================================

# Senha do Redis
# GERAR SENHA: python -c "import secrets; print(secrets.token_urlsafe(32))"
REDIS_PASSWORD=TROCAR_POR_SENHA_FORTE_DO_REDIS

# ==============================================
# APLICAÇÃO
# ==============================================

# Modo debug - SEMPRE False em produção!
DEBUG=False

# Hosts permitidos (SUBSTITUA pelo seu domínio!)
ALLOWED_HOSTS=wifi.prefeitura.com.br,www.wifi.prefeitura.com.br

# Timeout de sessão (em segundos)
SESSION_TIMEOUT=1800

# Máximo de tentativas de login
MAX_LOGIN_ATTEMPTS=5

# ==============================================
# SEGURANÇA AVANÇADA
# ==============================================

# Rate limiting
RATE_LIMIT_ENABLED=True
RATE_LIMIT_STORAGE_URL=redis://:TROCAR_POR_SENHA_FORTE_DO_REDIS@redis:6379/1

# Proteção CSRF
CSRF_PROTECTION=True

# Headers de segurança
SECURE_HEADERS=True

# ==============================================
# SSL/TLS (CONFIGURAR APÓS OBTER CERTIFICADO)
# ==============================================

# Caminhos dos certificados Let's Encrypt
SSL_CERT_PATH=/etc/letsencrypt/live/wifi.prefeitura.com.br/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/wifi.prefeitura.com.br/privkey.pem

# ==============================================
# EMAIL (SMTP) - PARA RECUPERAÇÃO DE SENHA
# ==============================================

# Servidor SMTP (exemplo com Gmail - ajustar conforme seu provedor)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=wifi-noreply@prefeitura.com.br
SMTP_PASSWORD=SENHA_APP_DO_EMAIL
SMTP_USE_TLS=True

# Email remetente
SMTP_FROM_EMAIL=wifi-noreply@prefeitura.com.br
SMTP_FROM_NAME=WiFi Municipal

# ==============================================
# LOGGING
# ==============================================

LOG_LEVEL=INFO
LOG_FILE=/app/logs/production.log

# ==============================================
# INSTRUÇÕES DE USO
# ==============================================

# 1. Copie este arquivo:
#    cp .env.prod.example .env.prod
#
# 2. Gere credenciais fortes:
#    python -c "import secrets; print('SECRET_KEY=' + secrets.token_urlsafe(64))"
#    python -c "import secrets; print('POSTGRES_PASSWORD=' + secrets.token_urlsafe(32))"
#    python -c "import secrets; print('REDIS_PASSWORD=' + secrets.token_urlsafe(32))"
#
# 3. Substitua TODOS os valores "TROCAR_POR_*" acima
#
# 4. Configure seu domínio em ALLOWED_HOSTS
#
# 5. Configure SMTP para recuperação de senha
#
# 6. Deploy:
#    docker-compose -f docker-compose.prod.yml up -d
#
# 7. NUNCA comitar .env.prod no Git!
