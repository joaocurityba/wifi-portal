/var/www/wifi-portal/logs/*.log {
    # Rotate daily
    daily
    
    # Keep 90 days of rotated logs (90 files)
    rotate 90
    
    # Don't error if log files are missing
    missingok
    
    # Don't rotate empty files
    notifempty
    
    # Compress rotated logs
    compress
    
    # Delay compression until next rotation (keeps current .1 uncompressed for tail -f)
    delaycompress
    
    # Truncate original log file in place (better for running processes)
    copytruncate
    
    # Create new log file with specific permissions
    create 0640 www-data www-data
    
    # Use date extension (e.g., app.log-20260129)
    dateext
    
    # Keep date extension format even after rotation
    dateformat -%Y%m%d
    
    # Post-rotation script (optional - reload or signal app)
    # postrotate
    #     systemctl reload portal-cautivo > /dev/null 2>&1 || true
    # endscript
}
